"use strict";var login=function(){var e=document.getElementById("scan-login"),t=document.querySelector(".accounts"),o=document.getElementById("main"),n=document.getElementById("main-footer"),r=document.querySelector(".scan-box");document.querySelector(".obtn"),document.querySelector(".register");return{init:function(){this.event(),this.login("users")},event:function(){e.onclick=function(){o.style.display="none",n.style.display="none",r.style.display="block"},t.onclick=function(){o.style.display="block",n.style.display="block",r.style.display="none"}},login:function(l){var e=document.querySelector(".obtn"),t=document.querySelector(".register");e.onclick=function(){var e=document.querySelector(".ID").value,t=document.querySelector(".pwd").value;if(localStorage.users)for(var o=JSON.parse(localStorage[l]),n=0;n<o.length;n++){if(o[n].username===e&&o[n].password===t){alert("登录成功"),document.cookie="username=".concat(e,"; max-age=100000"),location.href="index.html";break}if(""===e||""===t){alert("请输入帐号或密码");break}if(o[n].username!==e&&o[n].password!==t){alert("帐号或密码错误");break}}else alert("账号不存在，请前往注册"),location.href="register.html"},window.onkeydown=function(e){if(13==(e.keyCode||e.which)){var t=document.querySelector(".ID").value,o=document.querySelector(".pwd").value;if(localStorage.users)for(var n=JSON.parse(localStorage[l]),r=0;r<n.length;r++){if(n[r].username===t&&n[r].password===o){alert("登录成功"),document.cookie="username=".concat(t,"; max-age=100000"),location.href="index.html";break}if(""===t||""===o){alert("请输入帐号或密码");break}if(n[r].username!==t&&n[r].password!==o){alert("帐号或密码错误");break}}else alert("账号不存在，请前往注册"),location.href="register.html"}},t.onclick=function(){location.href="register.html"}}}}();login.init();